

<!DOCTYPE html>
<html class="writer-html5" lang="zh-CN" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>movie &mdash; GMT 中文手册</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
      <link rel="stylesheet" type="text/css" href="../../_static/custom.css?v=5898cba8" />

  
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=1a85e45a"></script>
      <script src="../../_static/doctools.js?v=9a2dae69"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../../_static/copybutton.js?v=30646c52"></script>
      <script src="../../_static/translations.js?v=beaddf03"></script>
      <script src="../../_static/design-tabs.js?v=36754332"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="索引" href="../../genindex/" />
    <link rel="search" title="搜索" href="../../search/" />
    <link rel="next" title="nearneighbor" href="../nearneighbor/" />
    <link rel="prev" title="meca" href="../meca/" />


  <!-- Point to the *latest* version switcher. This will allow the latest versions to appear on older documentation. -->
  <script type="text/javascript" src="/latest/_static/version_switch.js"></script>


</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
   
   
   <a href="../../">
     <h2 class="sidebar-title">GMT 中文手册</h2>
   </a>
     <div class="version">
       6.5
     </div>
   
<div role="search">
  <form class="wy-form" action="https://www.bing.com/search" id="searchForm">
    <input id="search-bar" type="text" name="q" placeholder="搜索文档" required>
    <input type="hidden" name="sitesearch" value="docs.gmt-china.org/latest/" id="sitesearch">
  </form>
  <script>
    var searchForm = document.getElementById('searchForm');
    searchForm.onsubmit = function () {
      var url = this.action;
      var q = document.getElementById('search-bar').value;
      var site = document.getElementById('sitesearch').value;
      var url = url + '?q=' + q + ' site:' + site;
      window.open(url);
      return false;
    };
  </script>
</div>

        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="导航菜单">
    
              <p class="caption" role="heading"><span class="caption-text">GMT 入门</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../intro/">简介</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../install/">安装</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorial/started/">入门教程</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorial/advanced/">进阶教程</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">GMT 实例</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../gallery/">社区绘图实例</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gallery/#id10">外部绘图实例</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">GMT 进阶</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../basis/">基础知识</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../table/">表数据</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../grid/">网格文件</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cpt/">颜色表 CPT</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../option/">标准选项</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../proj/">地图投影</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../conf/">配置参数</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../theme/">主题</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dataset/">地学数据集</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../chinese/">中文支持</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/">API</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../">模块手册</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../basemap/">basemap</a></li>
<li class="toctree-l2"><a class="reference internal" href="../begin/">begin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../blockmean/">blockmean</a></li>
<li class="toctree-l2"><a class="reference internal" href="../blockmedian/">blockmedian</a></li>
<li class="toctree-l2"><a class="reference internal" href="../blockmode/">blockmode</a></li>
<li class="toctree-l2"><a class="reference internal" href="../clear/">clear</a></li>
<li class="toctree-l2"><a class="reference internal" href="../clip/">clip</a></li>
<li class="toctree-l2"><a class="reference internal" href="../coast/">coast</a></li>
<li class="toctree-l2"><a class="reference internal" href="../colorbar/">colorbar</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contour/">contour</a></li>
<li class="toctree-l2"><a class="reference internal" href="../coupe/">coupe</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dimfilter/">dimfilter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../docs/">docs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../end/">end</a></li>
<li class="toctree-l2"><a class="reference internal" href="../events/">events</a></li>
<li class="toctree-l2"><a class="reference internal" href="../figure/">figure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../filter1d/">filter1d</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fitcircle/">fitcircle</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gmt/">gmt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gmt-config/">gmt-config</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gmtbinstats/">gmtbinstats</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gmtconnect/">gmtconnect</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gmtconvert/">gmtconvert</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gmtdefaults/">gmtdefaults</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gmtget/">gmtget</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gmtinfo/">gmtinfo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gmtlogo/">gmtlogo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gmtmath/">gmtmath</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gmtregress/">gmtregress</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gmtselect/">gmtselect</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gmtset/">gmtset</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gmtsimplify/">gmtsimplify</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gmtspatial/">gmtspatial</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gmtsplit/">gmtsplit</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gmtswitch/">gmtswitch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gmtvector/">gmtvector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gmtwhich/">gmtwhich</a></li>
<li class="toctree-l2"><a class="reference internal" href="../grd2cpt/">grd2cpt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../grd2xyz/">grd2xyz</a></li>
<li class="toctree-l2"><a class="reference internal" href="../grdblend/">grdblend</a></li>
<li class="toctree-l2"><a class="reference internal" href="../grdclip/">grdclip</a></li>
<li class="toctree-l2"><a class="reference internal" href="../grdcontour/">grdcontour</a></li>
<li class="toctree-l2"><a class="reference internal" href="../grdconvert/">grdconvert</a></li>
<li class="toctree-l2"><a class="reference internal" href="../grdcut/">grdcut</a></li>
<li class="toctree-l2"><a class="reference internal" href="../grdedit/">grdedit</a></li>
<li class="toctree-l2"><a class="reference internal" href="../grdfft/">grdfft</a></li>
<li class="toctree-l2"><a class="reference internal" href="../grdfill/">grdfill</a></li>
<li class="toctree-l2"><a class="reference internal" href="../grdfilter/">grdfilter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../grdgdal/">grdgdal</a></li>
<li class="toctree-l2"><a class="reference internal" href="../grdgradient/">grdgradient</a></li>
<li class="toctree-l2"><a class="reference internal" href="../grdimage/">grdimage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../grdinfo/">grdinfo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../grdinterpolate/">grdinterpolate</a></li>
<li class="toctree-l2"><a class="reference internal" href="../grdlandmask/">grdlandmask</a></li>
<li class="toctree-l2"><a class="reference internal" href="../grdmask/">grdmask</a></li>
<li class="toctree-l2"><a class="reference internal" href="../grdmath/">grdmath</a></li>
<li class="toctree-l2"><a class="reference internal" href="../grdpaste/">grdpaste</a></li>
<li class="toctree-l2"><a class="reference internal" href="../grdproject/">grdproject</a></li>
<li class="toctree-l2"><a class="reference internal" href="../grdsample/">grdsample</a></li>
<li class="toctree-l2"><a class="reference internal" href="../grdselect/">grdselect</a></li>
<li class="toctree-l2"><a class="reference internal" href="../grdshake/">grdshake</a></li>
<li class="toctree-l2"><a class="reference internal" href="../grdtrack/">grdtrack</a></li>
<li class="toctree-l2"><a class="reference internal" href="../grdtrend/">grdtrend</a></li>
<li class="toctree-l2"><a class="reference internal" href="../grdvector/">grdvector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../grdview/">grdview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../grdvolume/">grdvolume</a></li>
<li class="toctree-l2"><a class="reference internal" href="../grdvs30/">grdvs30</a></li>
<li class="toctree-l2"><a class="reference internal" href="../greenspline/">greenspline</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gshhg/">gshhg</a></li>
<li class="toctree-l2"><a class="reference internal" href="../histogram/">histogram</a></li>
<li class="toctree-l2"><a class="reference internal" href="../image/">image</a></li>
<li class="toctree-l2"><a class="reference internal" href="../img2google/">img2google</a></li>
<li class="toctree-l2"><a class="reference internal" href="../img2grd/">img2grd</a></li>
<li class="toctree-l2"><a class="reference internal" href="../inset/">inset</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kml2gmt/">kml2gmt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../legend/">legend</a></li>
<li class="toctree-l2"><a class="reference internal" href="../makecpt/">makecpt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mapproject/">mapproject</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mask/">mask</a></li>
<li class="toctree-l2"><a class="reference internal" href="../meca/">meca</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">movie</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">语法</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2">描述</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id3">必选选项</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id4">可选选项</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id5">生成一维数组</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id6">参数</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id7">数据文件</a></li>
<li class="toctree-l3"><a class="reference internal" href="#gmt-conf">自定义 gmt.conf 文件</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id8">绘制时间变化</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id9">画布</a></li>
<li class="toctree-l3"><a class="reference internal" href="#postscript">外部 <em>PostScript</em> 图层</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id10">底图边框</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id11">透明图片</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id12">添加音轨</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id13">技术细节</a></li>
<li class="toctree-l3"><a class="reference internal" href="#shell">Shell 局限性</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id14">制作动画的提示</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id15">颜色表的使用</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id16">进度指示器</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id17">片头和淡入淡出</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id18">其它电影格式</a></li>
<li class="toctree-l3"><a class="reference internal" href="#png">基于已有的 PNG 帧重新制作电影</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id20">操作多个电影</a></li>
<li class="toctree-l3"><a class="reference internal" href="#macos">macOS 问题</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id22">示例</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id23">更多示例</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id24">弃用</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id26">参考文献</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id27">相关模块</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../nearneighbor/">nearneighbor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../plot/">plot</a></li>
<li class="toctree-l2"><a class="reference internal" href="../plot3d/">plot3d</a></li>
<li class="toctree-l2"><a class="reference internal" href="../polar/">polar</a></li>
<li class="toctree-l2"><a class="reference internal" href="../project/">project</a></li>
<li class="toctree-l2"><a class="reference internal" href="../psconvert/">psconvert</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rose/">rose</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sac/">sac</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sample1d/">sample1d</a></li>
<li class="toctree-l2"><a class="reference internal" href="../segy/">segy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../segy2grd/">segy2grd</a></li>
<li class="toctree-l2"><a class="reference internal" href="../solar/">solar</a></li>
<li class="toctree-l2"><a class="reference internal" href="../spectrum1d/">spectrum1d</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sph2grd/">sph2grd</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sphdistance/">sphdistance</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sphinterpolate/">sphinterpolate</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sphtriangulate/">sphtriangulate</a></li>
<li class="toctree-l2"><a class="reference internal" href="../subplot/">subplot</a></li>
<li class="toctree-l2"><a class="reference internal" href="../surface/">surface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ternary/">ternary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../text/">text</a></li>
<li class="toctree-l2"><a class="reference internal" href="../trend1d/">trend1d</a></li>
<li class="toctree-l2"><a class="reference internal" href="../trend2d/">trend1d</a></li>
<li class="toctree-l2"><a class="reference internal" href="../triangulate/">triangulate</a></li>
<li class="toctree-l2"><a class="reference internal" href="../velo/">velo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../wiggle/">wiggle</a></li>
<li class="toctree-l2"><a class="reference internal" href="../xyz2grd/">xyz2grd</a></li>
<li class="toctree-l2"><a class="reference internal" href="../earthtide/">earthtide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gpsgridder/">gpsgridder</a></li>
<li class="toctree-l2"><a class="reference internal" href="../x2sys_init/">x2sys_init</a></li>
<li class="toctree-l2"><a class="reference internal" href="../x2sys_binlist/">x2sys_binlist</a></li>
<li class="toctree-l2"><a class="reference internal" href="../x2sys_cross/">x2sys_cross</a></li>
<li class="toctree-l2"><a class="reference internal" href="../x2sys_datalist/">x2sys_datalist</a></li>
<li class="toctree-l2"><a class="reference internal" href="../x2sys_get/">x2sys_get</a></li>
<li class="toctree-l2"><a class="reference internal" href="../x2sys_list/">x2sys_list</a></li>
<li class="toctree-l2"><a class="reference internal" href="../x2sys_merge/">x2sys_merge</a></li>
<li class="toctree-l2"><a class="reference internal" href="../x2sys_put/">x2sys_put</a></li>
<li class="toctree-l2"><a class="reference internal" href="../x2sys_report/">x2sys_report</a></li>
<li class="toctree-l2"><a class="reference internal" href="../x2sys_solve/">x2sys_solve</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gmtflexure/">gmtflexure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gmtgravmag3d/">gmtgravmag3d</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gravfft/">gravfft</a></li>
<li class="toctree-l2"><a class="reference internal" href="../grdflexure/">grdflexure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../grdgravmag3d/">grdgravmag3d</a></li>
<li class="toctree-l2"><a class="reference internal" href="../grdredpol/">grdredpol</a></li>
<li class="toctree-l2"><a class="reference internal" href="../grdseamount/">grdseamount</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gravprisms/">gravprisms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../talwani2d/">talwani2d</a></li>
<li class="toctree-l2"><a class="reference internal" href="../talwani3d/">talwani3d</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mgd77manage/">mgd77manage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mgd77convert/">mgd77convert</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mgd77header/">mgd77header</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mgd77info/">mgd77info</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mgd77list/">mgd77list</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mgd77magref/">mgd77magref</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mgd77path/">mgd77path</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mgd77sniffer/">mgd77sniffer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mgd77track/">mgd77track</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">附录</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../utilities/">相关工具</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contour-annot/">等值线标注和“线条标注”</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../migrating/">版本迁移</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/">贡献指南</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/gmt-china/GMT_docs#%E8%B4%A1%E7%8C%AE%E8%80%85-">贡献者</a></li>
</ul>


    
        <p class="caption">
            <span class="caption-text">外部链接</span>
        </p>
        <ul>
            
                <li class="toctree-l1"><a href="https://gmt-china.org"><i class="fa fa-globe fa-fw"></i> GMT 中文社区</a></li>
            
                <li class="toctree-l1"><a href="https://github.com/gmt-china/GMT_docs/discussions"><i class="fa fa-comments fa-fw"></i> 参与讨论</a></li>
            
        </ul>
    

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="移动版导航菜单" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../">GMT 中文手册</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="页面导航">
  <ul class="wy-breadcrumbs">
      <li><a href="../../" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../">模块手册</a></li>
      <li class="breadcrumb-item active">movie</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/gmt-china/GMT_docs/edit/main/source/module/movie.rst" class="fa fa-github"> 编辑本页</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  
    <div class="page-meta" style="font-size: 0.85em; color: #666; margin-bottom: 1em; padding-bottom: 0.5em; border-bottom: 1px solid #ddd;">
      
      
        
        
      
      
      
        
      
      
      
  ✍️
      <a href="https://github.com/Dengda98" target="_blank" rel="noopener">朱邓达</a>
    
 &nbsp;•&nbsp; 📅 2025-06-18
    </div>
  
  
  <span class="target" id="index-0"></span><section id="movie">
<h1>movie<a class="headerlink" href="#movie" title="Link to this heading"></a></h1>
<dl class="field-list simple">
<dt class="field-odd">官方文档<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.generic-mapping-tools.org/6.5/movie.html" title="（在 GMT v6.5）"><span>movie</span></a></p>
</dd>
<dt class="field-even">简介<span class="colon">:</span></dt>
<dd class="field-even"><p>制作动画</p>
</dd>
</dl>
<section id="id1">
<h2>语法<a class="headerlink" href="#id1" title="Link to this heading"></a></h2>
<p><strong>gmt movie</strong> <em>mainscript</em>
<a class="reference internal" href="#c"><span><strong>-C</strong></span></a></strong><em>canvassize</em>[<strong>+c|i</strong>]
<a class="reference internal" href="#n"><span><strong>-N</strong></span></a></strong><em>prefix</em>
<a class="reference internal" href="#t"><span><strong>-T</strong></span></a></strong><em>nframes</em>|<em>min</em>/<em>max</em>/<em>inc</em>[<strong>+n</strong>]|<em>timefile</em>[<strong>+p</strong><em>width</em>][<strong>+s</strong><em>first</em>][<strong>+w</strong>[<em>str</em>]|<strong>W</strong>]
[ <a class="reference internal" href="#a"><span><strong>-A</strong></span></a></strong><em>audiofile</em>[<strong>+e</strong>] ]
[ <a class="reference internal" href="#d"><span><strong>-D</strong></span></a></strong><em>displayrate</em> ]
[ <a class="reference internal" href="#e"><span><strong>-E</strong></span></a></strong><em>titlepage</em>[<strong>+d</strong>[<em>duration</em>[<strong>s</strong>]]][<strong>+f</strong>[<strong>i</strong>|<strong>o</strong>][<em>fade</em>[<strong>s</strong>]]][<strong>+g</strong><em>fill</em>] ]
[ <a class="reference internal" href="#f"><span><strong>-F</strong></span></a></strong><em>gif</em>|<em>mp4</em>|<em>webm</em>|<em>png</em>[<strong>+i</strong><em>options</em>][<strong>+l</strong>[<em>n</em>]][<strong>+o</strong><em>options</em>][<strong>+s</strong><em>stride</em>][<strong>+t</strong>][<strong>+v</strong>] ]
[ <a class="reference internal" href="#g"><span><strong>-G</strong></span></a></strong>[<em>fill</em>][<strong>+p</strong><em>pen</em>] ]
[ <a class="reference internal" href="#h"><span><strong>-H</strong></span></a></strong><em>scale</em>]
[ <a class="reference internal" href="#i"><span><strong>-I</strong></span></a></strong><em>includefile</em> ]
[ <a class="reference internal" href="#k"><span><strong>-K</strong></span></a></strong>[<strong>+f</strong>[<strong>i</strong>|<strong>o</strong>][<em>fade</em>[<strong>s</strong>]]][<strong>+g</strong><em>fill</em>][<strong>+p</strong>[<strong>i</strong>|<strong>o</strong>]] ]
[ <a class="reference internal" href="#l"><span><strong>-L</strong></span></a></strong><em>labelinfo</em> ]
[ <a class="reference internal" href="#m"><span><strong>-M</strong></span></a></strong>[<em>frame</em>],[<em>format</em>][<strong>+r</strong><em>dpu</em>][<strong>+v</strong>] ]
[ <a class="reference internal" href="#p"><span><strong>-P</strong></span></a></strong><em>progress</em> ]
[ <a class="reference internal" href="#q"><span><strong>-Q</strong></span></a></strong>[<strong>s</strong>] ]
[ <a class="reference internal" href="#sb"><span><strong>-Sb</strong></span></a></strong><em>background</em> ]
[ <a class="reference internal" href="#sf"><span><strong>-Sf</strong></span></a></strong><em>foreground</em> ]
[ <a class="reference internal" href="#v"><span><strong>-V</strong></span></a></strong>[<em>level</em>] ]
[ <a class="reference internal" href="#w"><span><strong>-W</strong></span></a></strong>[<em>dir</em>] ]
[ <a class="reference internal" href="#z"><span><strong>-Z</strong></span></a></strong>[<strong>s</strong>] ]
[ <strong>-f</strong><a class="reference external" href="https://docs.generic-mapping-tools.org/6.5/gmt.html#f-full" title="（在 GMT v6.5）"><span class="xref std std-ref">flags</span></a> ]
[ <strong>-x</strong>[[-]<a class="reference external" href="https://docs.generic-mapping-tools.org/6.5/gmt.html#core-full" title="（在 GMT v6.5）"><span class="xref std std-ref">n</span></a>] ]
[ <strong>--PAR</strong>=<em>value</em> ]</p>
</section>
<section id="id2">
<h2>描述<a class="headerlink" href="#id2" title="Link to this heading"></a></h2>
<p><strong>movie</strong> 模块能够使用单个绘图脚本生成 GMT 动画，该脚本会重复应用于所有帧，
同时通过特定帧变量进行一些变化。该模块简化（并隐藏）了通常设置完整动画任务所需的大部分步骤。
相反，用户可以专注于构建主帧绘图，而让帧的并行执行以及图片到动画的组合在后台进行。
单个帧会从 <em>PostScript</em> 绘图转换为无损、不透明的 <em>PNG</em> 图片，
并可选择组合成动画（这最后一步需要外部工具，这些工具必须存在于用户的路径中；
请参阅下面的 <a class="reference internal" href="#id13">技术细节</a> ）。用户可以根据需要添加片头、淡入淡出效果、标签和进度指示器。</p>
<p><a class="reference download external" download="" href="https://dengda98.github.io/zh/posts/tech/gmt_movie/movie_ex01.sh"><code class="xref download docutils literal notranslate"><span class="pre">Source</span> <span class="pre">Code</span></code></a></p>
<figure class="align-center">
<a class="reference internal image-reference" href="https://dengda98.github.io/zh/posts/tech/gmt_movie/anim01.gif"><img alt="https://dengda98.github.io/zh/posts/tech/gmt_movie/anim01.gif" src="https://dengda98.github.io/zh/posts/tech/gmt_movie/anim01.gif" style="width: 500px;" />
</a>
</figure>
</section>
<section id="id3">
<h2>必选选项<a class="headerlink" href="#id3" title="Link to this heading"></a></h2>
<dl class="simple">
<dt><em>mainscript</em></dt><dd><p>一个独立的 GMT 现代模式主脚本，用于生成帧。
该脚本可以访问帧变量，例如帧号等，并且可以使用
Bourne shell（.sh）、Bourne again shell（.bash）、
csh（.csh）或 DOS 批处理语言（.bat）编写。
脚本语言根据文件扩展名推断，然后 GMT 使用相同脚本语言构建隐藏的 movie 脚本。
可访问的参数将在下文讨论。
<strong>注：</strong>
如果最终的 <strong>gmt end</strong> 语句以 <strong>show</strong> 结尾，则会展示动画主帧（仅当使用了 <a class="reference internal" href="#m"><span><strong>-M</strong></span></a></strong> 时）。</p>
</dd>
</dl>
<dl id="c">
<dt><strong>-C</strong><em>canvassize</em>[<strong>+c|i</strong>]</dt><dd><p>指定组合帧时的画布大小。支持两种指定方式：</p>
<ul class="simple">
<li><p>使用专有名称指定预设格式（见下方表格 <a class="reference internal" href="#tbl-presets"><span class="std std-ref">Presets</span></a> 第一列的名称）。</p></li>
<li><p>用户可指定自定义布局 <em>width</em><strong>x</strong><em>height</em><strong>x</strong><em>dpu</em> ，
其中画布宽度 <em>width</em> 和画布高度 <em>height</em> 后可接单位 <strong>c|i</strong> ，
像素密度 <em>dpu</em> （dots-per-unit）为每单位大小内的像素点数
（在预设格式中像素密度会自动计算）。
<em>width</em> 和 <em>height</em> 也可以指定为像素级宽度和长度，此时需在 <em>dpu</em> 后面加上 <strong>+c</strong> 或
<strong>+i</strong> 以表明 <em>dpu</em> 的单位大小为每厘米 (cm) 或每英寸 (inches) 。</p></li>
</ul>
<p><strong>注：</strong> 用户设定的 <a class="reference internal" href="../../conf/proj/#term-PROJ_LENGTH_UNIT"><span class="xref std std-term">PROJ_LENGTH_UNIT</span></a> 将决定 <strong>movie</strong> 模块使用 SI 或 US 单位。</p>
<p id="tbl-presets"><em>16:9 (24x13.5 cm or 9.6x5.4 inch)</em></p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Preset format (alias)</p></th>
<th class="head"><p>Pixel dimensions</p></th>
<th class="head"><p>DPC</p></th>
<th class="head"><p>DPI</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>4320p (8k and uhd-2)</p></td>
<td><p>7680 x 4320</p></td>
<td><p>320</p></td>
<td><p>800</p></td>
</tr>
<tr class="row-odd"><td><p>2160p (4k and uhd)</p></td>
<td><p>3840 x 2160</p></td>
<td><p>160</p></td>
<td><p>400</p></td>
</tr>
<tr class="row-even"><td><p>1080p (fhd and hd)</p></td>
<td><p>1920 x 1080</p></td>
<td><p>80</p></td>
<td><p>200</p></td>
</tr>
<tr class="row-odd"><td><p>720p</p></td>
<td><p>1280 x 720</p></td>
<td><p>53.3333</p></td>
<td><p>133.3333</p></td>
</tr>
<tr class="row-even"><td><p>540p</p></td>
<td><p>960 x 540</p></td>
<td><p>40</p></td>
<td><p>100</p></td>
</tr>
<tr class="row-odd"><td><p>480p</p></td>
<td><p>854 x 480</p></td>
<td><p>35.5833</p></td>
<td><p>88.9583</p></td>
</tr>
<tr class="row-even"><td><p>360p</p></td>
<td><p>640 x 360</p></td>
<td><p>26.6667</p></td>
<td><p>66.6667</p></td>
</tr>
<tr class="row-odd"><td><p>240p</p></td>
<td><p>426 x 240</p></td>
<td><p>17.75</p></td>
<td><p>44.375</p></td>
</tr>
</tbody>
</table>
<p><em>4:3 (24x18 cm or 9.6x7.2 inch)</em></p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Preset format (alias)</p></th>
<th class="head"><p>Pixel dimensions</p></th>
<th class="head"><p>DPC</p></th>
<th class="head"><p>DPI</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>uxga</p></td>
<td><p>1600 x 1200</p></td>
<td><p>66.6667</p></td>
<td><p>166.6667</p></td>
</tr>
<tr class="row-odd"><td><p>sxga+</p></td>
<td><p>1400 x 1050</p></td>
<td><p>58.3333</p></td>
<td><p>145.8333</p></td>
</tr>
<tr class="row-even"><td><p>xga</p></td>
<td><p>1024 x 768</p></td>
<td><p>42.6667</p></td>
<td><p>106.6667</p></td>
</tr>
<tr class="row-odd"><td><p>svga</p></td>
<td><p>800 x 600</p></td>
<td><p>33.3333</p></td>
<td><p>83.3333</p></td>
</tr>
<tr class="row-even"><td><p>dvd</p></td>
<td><p>640 x 480</p></td>
<td><p>26.6667</p></td>
<td><p>66.6667</p></td>
</tr>
</tbody>
</table>
</dd>
</dl>
<dl class="simple" id="n">
<dt><strong>-N</strong><em>prefix</em></dt><dd><p>指定最终动画文件的名称以及包含帧图片的子目录（例外情况见 <a class="reference internal" href="#w"><span><strong>-W</strong></span></a></strong> ）。
<strong>注：</strong> 如果该子目录已存在，则 GMT 将立即退出。
因此，用户需要先删除以该名称命名的任何旧目录。这样做是为了防止意外丢失重要数据。
用户可以通过使用 <a class="reference internal" href="#z"><span><strong>-Z</strong></span></a></strong> 在成功运行后删除该目录来避免此问题。</p>
</dd>
</dl>
<dl class="simple" id="t">
<dt><strong>-T</strong><em>nframes</em>|<em>min</em>/<em>max</em>/<em>inc</em>[<strong>+n</strong>]|<em>timefile</em>[<strong>+p</strong><em>width</em>][<strong>+s</strong><em>first</em>][<strong>+w</strong>[<em>str</em>]|<strong>W</strong>]</dt><dd><p>创建一个包含从 <em>min</em> 到 <em>max</em> 每隔 <em>inc</em> 变化的一列数据集以指定要生成多少帧，
或提供一个数据集文件 <em>timefile</em> ，一个记录（即一行）对应一帧。
列中的值将作为命名变量 <strong>MOVIE_COL0</strong> 、 <strong>MOVIE_COL1</strong> 等的形式提供给主脚本
<em>mainscript</em> ，而每行任何尾部文本都可以通过变量 <strong>MOVIE_TEXT</strong> 进行访问。
文件行数即为帧数。注意 <em>timefile</em> 文件可以在 <em>background</em> 脚本中创建（见 <a class="reference internal" href="#sb"><span><strong>-Sb</strong></span></a></strong> ），
因此在 <em>background</em> 脚本执行前后 GMT 都会查找 <em>timefile</em> 是否存在。
如果仅指定帧数 <em>nframes</em> ，则只有变量 <strong>MOVIE_FRAME</strong> 可用，因为没有数据文件。
对于数组生成的一些细节参数，详见 <a class="reference internal" href="#id5">生成一维数组</a> 。还支持以下子选项：</p>
<ul class="simple">
<li><p><strong>+n</strong> - <em>inc</em> 变为 <em>min</em> 到 <em>max</em> 之间的帧数。</p></li>
<li><p><strong>+p</strong> - 设置每帧图片命名的帧号格式的标签宽度 <em>width</em> ，
例如 <em>name_000010.png</em> 的帧号标签宽度为 6 。默认自动设置 <em>width</em> ，
但如果用户将大型任务分布在多台计算机上的话（通过 <strong>+s</strong> ），
用户必须确保所有帧名称的标签宽度一致。</p></li>
<li><p><strong>+s</strong> - 输出帧起始编号从 0 改为 <em>first</em> 。
注意这仍然包括所有帧，该子选项仅影响输出编号。</p></li>
<li><p><strong>+w</strong> - 将尾部的文本字符串拆分成单个单词，可通过变量 <strong>MOVIE_WORD0</strong>, <strong>MOVIE_WORD1</strong>
访问。默认将空格符 (spaces) 或制表符 (tabs) 作为分隔符，可自定义 <em>str</em> 作为有效分隔符。
使用 <strong>+W</strong> 则将 TAB 作为唯一分隔符。</p></li>
</ul>
</dd>
</dl>
</section>
<section id="id4">
<h2>可选选项<a class="headerlink" href="#id4" title="Link to this heading"></a></h2>
<dl class="simple" id="a">
<dt><strong>-A</strong><em>audiofile</em>[<strong>+e</strong>]</dt><dd><p>添加音轨（例如旁白解说），大概与动画长度相同，但可以更短或更长。
GMT 将音轨与第一帧对齐。使用 <strong>+e</strong> 可将拉伸音轨以精确适配动画长度
（前提是缩放比例不小于0.5或大于2.0）。</p>
</dd>
</dl>
<dl class="simple" id="d">
<dt><strong>-D</strong><em>displayrate</em></dt><dd><p>设置最终动画帧率（每秒） [默认 24]。</p>
</dd>
</dl>
<dl id="e">
<dt><strong>-E</strong><em>titlepage</em>[<strong>+d</strong>[<em>duration</em>[<strong>s</strong>]]][<strong>+f</strong>[<strong>i</strong>|<strong>o</strong>][<em>fade</em>[<strong>s</strong>]]][<strong>+g</strong><em>fill</em>]</dt><dd><p>指定脚本 <em>titlepage</em> 以创建静态页面作为动画片头 [默认无片头]。
或者，<em>titlepage</em> 可以是尺寸与 <a class="reference internal" href="#c"><span><strong>-C</strong></span></a></strong> 中设置的画布大小完全匹配的 <em>PostScript</em>
或 <em>EPS</em> 图（文件扩展名为.ps）。支持以下子选项控制片头：</p>
<ul class="simple">
<li><p><strong>+d</strong> - 设置片头持续长度，后跟 <em>duration</em> 表示持续帧数，有单位 <strong>s</strong> 表示持续秒数 [默认 4 秒]。</p></li>
<li><p><strong>+f</strong> - 为片头添加以帧号或秒数（带单位 <strong>s</strong> ）为单位的淡入淡出长度 <em>fade</em> [默认 1s] 。
使用 <strong>+fi</strong> 或 <strong>fo</strong> 可分别指定单边的淡入或淡出长度，
或者都使用以指定长度不等的淡入淡出 [默认淡入淡出长度一致]。
淡入淡出效果会影响片头持续时间 <em>duration</em> 。</p></li>
<li><p><strong>+g</strong><em>fill</em> - 设置淡入前和淡出后的颜色 [默认 black]。</p></li>
</ul>
<p>关于淡入淡出效果，详见 <a class="reference internal" href="#id17">片头和淡入淡出</a> ， <a class="reference internal" href="#k"><span><strong>-K</strong></span></a></strong> 也有相关用法。</p>
</dd>
</dl>
<dl class="simple" id="f">
<dt><strong>-F</strong><em>gif</em>|<em>mp4</em>|<em>webm</em>|<em>png</em>[<strong>+i</strong><em>options</em>][<strong>+l</strong>[<em>n</em>]][<strong>+o</strong><em>options</em>][<strong>+s</strong><em>stride</em>][<strong>+t</strong>][<strong>+v</strong>]</dt><dd><p>选择动画输出类型，可多次使用 <a class="reference internal" href="#f"><span><strong>-F</strong></span></a></strong> 以生成多种类型。可选类型包括 <em>gif</em> , <em>mp4</em> , <em>webm</em> ,
或只是 <em>png</em> 图片。其中 <em>mp4</em> 和 <em>webm</em> 为电影格式，需使用 FFmpeg
工具将多个图片组合成电影。如果只选择 <em>png</em> 则不会组合。
不使用 <a class="reference internal" href="#f"><span><strong>-F</strong></span></a></strong> 则不会输出任何与动画相关的文件（但要求使用 <a class="reference internal" href="#m"><span><strong>-M</strong></span></a></strong> ）。支持以下子选项：</p>
<ul class="simple">
<li><p><strong>+i</strong> - 为输入文件添加额外的 FFmpeg 编码设置（多个词用引号括住）。</p></li>
<li><p><strong>+l</strong> - 循环播放 <em>gif</em> 动画，或者可指定循环次数 <em>n</em> [默认一直循环] 。</p></li>
<li><p><strong>+o</strong> - 为输出文件添加额外的 FFmpeg 编码设置（ <em>mp4</em> 或 <em>webm</em> ，多个词用引号括住）。</p></li>
<li><p><strong>+s</strong> - 当输出类型为 <em>mp4</em> 或 <em>webm</em> 时，指定步长 <em>stride</em> 可创建帧率低的 gif 图，
其中 <em>stride</em> 可取 2, 5, 10, 20, 50, 100, 200, 和 500 。</p></li>
<li><p><strong>+t</strong> - 选择生成透明的 <em>PNG</em> 图片 [默认不透明]。
详见 <a class="reference internal" href="#id11">透明图片</a> 。</p></li>
<li><p><strong>+v</strong> - 使用默认预览工具打开 <em>mp4</em> 或 <em>webm</em> 。</p></li>
</ul>
</dd>
</dl>
<dl class="simple" id="g">
<dt><strong>-G</strong>[<em>fill</em>][<strong>+p</strong><em>pen</em>]</dt><dd><p>在绘制开始前，设置画布填充色 [默认无填充]，使用 <strong>+p</strong> 指定画布轮廓画笔属性 [默认无轮廓]。</p>
</dd>
</dl>
<dl class="simple" id="h">
<dt><strong>-H</strong><em>scale</em></dt><dd><p>由于在将 <em>PostScript</em> 图形栅格化为 <em>PNG</em> 图像时所使用的每单位像素点是有限的，
因此将特征量化为离散像素会导致舍入误差。
部分这种误差可以通过抗锯齿设置来减轻。然而，不同帧之间的变化不受单个帧的栅格化操作控制，
特别是移动的文本在最终动画中可能会显得抖动。
用户可以通过选择一个整数缩放比例 <em>scale</em> 来减轻这种影响，
该比例实际上会暂时将每单位有效点数增大 <em>scale</em> 倍，然后对帧进行栅格化处理，
最后以相同的比例对图像进行降采样。 <em>scale</em> 越大，过渡就越平滑。
由于处理时间会随着缩放比例的增加而增加，GMT 建议用户尝试 2 到 5 之间的值。
请注意，当原始数据的分辨率远高于最终帧的像素尺寸时，图片也可能因量化而受到影响。
此时也可以使用 <strong>-H</strong> 选项来平滑结果以避免锯齿现象 [默认不进行降采样]。
这种影响被称为亚像素渲染 (subpixel rendering)。</p>
</dd>
</dl>
<dl class="simple" id="i">
<dt><strong>-I</strong><em>includefile</em></dt><dd><p>将 <em>includefile</em> 的内容插入所有 movie 脚本都会访问的 movie_init.sh 脚本中。
这种机制用于添加信息（通常是常量赋值），这些信息是主脚本 <em>mainscript</em>
和 <a class="reference internal" href="#s"><span><strong>-S</strong></span></a></strong> 指定的脚本所依赖的。</p>
</dd>
</dl>
<dl id="k">
<dt><strong>-K</strong>[<strong>+f</strong>[<strong>i</strong>|<strong>o</strong>]<em>fade</em>[<strong>s</strong>]][<strong>+g</strong><em>fill</em>][<strong>+p</strong>[<strong>i</strong>|<strong>o</strong>]]</dt><dd><p>为动画添加淡入淡出效果 [默认不添加]。支持以下子选项：</p>
<ul class="simple">
<li><p><strong>+f</strong> - 设置淡入淡出长度 <em>fade</em> [默认 1s] 。
使用 <strong>+fi</strong> 或 <strong>fo</strong> 可分别指定单边的淡入或淡出长度，
或者都使用以指定长度不等的淡入淡出 [默认淡入淡出长度一致]。</p></li>
<li><p><strong>+g</strong><em>fill</em> - 设置淡入前和淡出后的颜色 [默认 black]。</p></li>
<li><p><strong>+p</strong> - 保留所有帧。通常情况下，淡入淡出将被覆盖在动画的前几帧和后几帧上。
使用 <strong>+p</strong> 进行复制来保留这些帧。添加 <strong>i</strong> 或 <strong>o</strong>
分别只保留淡入或淡出的帧。</p></li>
</ul>
<p>关于淡入淡出效果，详见 <a class="reference internal" href="#id17">片头和淡入淡出</a> ， <a class="reference internal" href="#e"><span><strong>-E</strong></span></a></strong> 也有相关用法。</p>
</dd>
</dl>
<dl id="l">
<dt><strong>-L</strong><em>labelinfo</em>[<em>modifiers</em>]</dt><dd><p>为每帧自动添加标签。最多可重复添加 32 个标签。将选定的标签放置在帧边缘，支持以下几种标签类型：</p>
<ul class="simple">
<li><p><strong>e</strong> - 持续时间（秒），可加上 <strong>+s</strong><em>scale</em> 指定每帧对应时长（秒）[默认为帧率倒数]。</p></li>
<li><p><strong>s</strong><em>string</em> - 固定字符串 <em>string</em> 。</p></li>
<li><p><strong>f</strong> - 当前帧号 [默认标签]。</p></li>
<li><p><strong>p</strong> - 当前进度百分比。</p></li>
<li><p><strong>c</strong><em>col</em> - 使用 <em>timefile</em> 文件中列索引为 col 的值（首列索引为 0 ）。</p></li>
<li><p><strong>t</strong><em>col</em> - 使用 <em>timefile</em> 文件中尾部文本列的列索引为 col 的单词（第一个单词索引为 0 ）。</p></li>
</ul>
<p><strong>注：</strong> 如果用户使用 <strong>-Lc</strong> 指定的列元素为绝对时间，则时间戳的格式依赖
<a class="reference internal" href="../../conf/format/#term-FORMAT_DATE_MAP"><span class="xref std std-term">FORMAT_DATE_MAP</span></a> 和 <a class="reference internal" href="../../conf/format/#term-FORMAT_CLOCK_MAP"><span class="xref std std-term">FORMAT_CLOCK_MAP</span></a> 这两个参数。默认情况下，
日期 <em>date</em> 和时间 <em>time</em> 都会显示（中间空格隔开），将其中一个参数设置为 “-”
即可跳过该项。标签的外观属性可用以下子选项控制：</p>
<ul class="simple">
<li><p><strong>+c</strong><em>dx</em>[/<em>dy</em>] - 设置标签和其边界框的间距，仅在设置了 <strong>+g</strong> 或 <strong>+p</strong> 时使用。
附加单位 <strong>c|i|p</strong> 或字体大小的百分比 [15%]。</p></li>
<li><p><strong>+f</strong> - 设置字体属性 [<a class="reference internal" href="../../conf/font/#term-FONT_TAG"><span class="xref std std-term">FONT_TAG</span></a>] 。</p></li>
<li><p><strong>+g</strong><em>fill</em> - 设置标签边界框的填充色 [默认不填充] 。</p></li>
<li><p><strong>+h</strong>[<em>dx</em>/<em>dy</em>/][<em>shade</em>] - 在标签边界框后添加下拉式阴影。用户可指定偏移量 <em>dx/dy</em>
[4p/-4p] 和阴影颜色 [gray50]，要求使用 <strong>+g</strong> [默认无阴影] 。</p></li>
<li><p><strong>+j</strong><em>refpoint</em> - 设置标签位置 [TL] 。</p></li>
<li><p><strong>+o</strong><em>dx</em>[/<em>dy</em>] - 根据 <strong>+j</strong> 指定的位置做偏移。
附加单位 <strong>c|i|p</strong> 或字体大小的百分比 [20%]。</p></li>
<li><p><strong>+p</strong><em>pen</em> - 指定标签边界框的画笔属性 [默认不绘制] 。</p></li>
<li><p><strong>+r</strong> - 与 <strong>+g</strong> 或 <strong>+p</strong> 一起使用，设置圆角矩形标签边界框 [默认直角]。</p></li>
<li><p><strong>+t</strong><em>format</em> - 设置标签显示格式 [默认无特殊格式] 。</p></li>
</ul>
<p><strong>注：</strong> 如果使用了 <strong>-Lt</strong> ，则标签显示格式必须包含类似 %s 的格式。
其它标签类型则可能包含整数 (%d) 或浮点数 (%e, %f, %g) 。格式详见 C 语言的
<a class="reference external" href="https://linux.die.net/man/3/printf">printf</a> 函数。</p>
</dd>
</dl>
<dl class="simple" id="m">
<dt><strong>-M</strong>[<em>frame</em>|<strong>f</strong>|<strong>m</strong>|<strong>l</strong>],[<em>format</em>][<strong>+r</strong><em>dpu</em>][<strong>+v</strong>]</dt><dd><p>除了制作动画序列，还可以单独绘制自定义主帧 <em>frame</em> [默认第 0 帧]。
该帧将被保存到当前目录中，
文件名命名为 <em>prefix.format</em> ，其中 <em>format</em> 为 GMT 允许的图形格式 [pdf]。
除了指定主帧 <em>frame</em> ，还会使用 <strong>f</strong>irst, <strong>m</strong>iddle, 和 <strong>l</strong>ast
代表对应帧。 <strong>注：</strong> 对于栅格帧格式，用户还可以通过 <strong>+r</strong> 指定该帧新的 <em>dpu</em>
[默认与动画帧的 <em>dpu</em> 相同]。最后，添加 <strong>+v</strong> 可以默认查看器打开主帧。</p>
</dd>
</dl>
<dl class="simple" id="p">
<dt><strong>-P</strong><em>progress</em>[<em>modifiers</em>]</dt><dd><p>自动添加进度指示器。最多可重复添加 32 个指示器。
根据选定的对齐方式将选定的指示器放置在帧边缘。指示器可从 <strong>a-f</strong> 中选择 [<strong>a</strong>] 。
<strong>a-c</strong> 是不同类型的圆形指示器，而 <strong>d-f</strong> 是线性（轴状）指示器。
详见 <a class="reference internal" href="#id16">进度指示器</a> 。支持以下子选项控制外观：</p>
<ul class="simple">
<li><p><strong>+a</strong> - 对进度指示器 <strong>b-f</strong> 进行标注，
后加 <strong>e</strong>|<strong>f</strong>|<strong>p</strong>|<strong>s</strong>|<strong>c</strong><em>col</em>|<strong>t</strong><em>col</em>
之一，以指示应该标注的内容（对应含义详见 <a class="reference internal" href="#l"><span><strong>-L</strong></span></a></strong> ）。</p></li>
<li><p><strong>+f</strong> - 指定字体 [<a class="reference internal" href="../../conf/font/#term-FONT_ANNOT_SECONDARY"><span class="xref std std-term">FONT_ANNOT_SECONDARY</span></a>] 。</p></li>
<li><p><strong>+g</strong><em>fill</em> - 设置活动项的填充色。</p></li>
<li><p><strong>+G</strong><em>fill</em> - 设置静止项的填充色。</p></li>
<li><p><strong>+j</strong><em>refpoint</em> - 设置指示器位置 [默认圆形指示器在 TR ，轴状指示器在 BC] 。</p></li>
<li><p><strong>+o</strong><em>dx</em>[/<em>dy</em>] - 根据 <strong>+j</strong> 指定的位置做偏移。</p></li>
<li><p><strong>+p</strong><em>pen</em> - 设置活动项的画笔属性。</p></li>
<li><p><strong>+P</strong><em>pen</em> - 设置静止项的画笔属性。</p></li>
<li><p><strong>+s</strong><em>scale</em> - 用帧号乘以比例 <em>scale</em> 来计算经过的时间。</p></li>
<li><p><strong>+t</strong><em>format</em> - 设置标注显示格式 [默认无特殊格式] 。</p></li>
<li><p><strong>+w</strong><em>width</em> - 设置指示器大小 [对于圆形指示器，默认大小为画布最大边长的 5% ；
对于轴状指示器，默认长度为 <strong>+j</strong> 指定画布边的边长的 60%%]。</p></li>
</ul>
</dd>
</dl>
<dl class="simple" id="q">
<dt><strong>-Q</strong>[<strong>s</strong>]</dt><dd><p>用于调试：保留 GMT 创建的所有文件和目录以供检查。
或者，添加 <strong>s</strong> 只构建 movie 脚本，但不做任何运行。
一个例外是从 <a class="reference internal" href="#sb"><span><strong>-Sb</strong></span></a></strong> 指定后台脚本总是被执行，因为它可能在构建 movie 脚本时产生所需的数据。</p>
</dd>
</dl>
<span id="s"></span><dl id="sb">
<dt><strong>-Sb</strong><em>background</em></dt><dd><p>指定一个 GMT 现代模式脚本 <em>background</em> （使用与 <em>mainscript</em> 相同的脚本语言编写），
其可用于以下两个目的：</p>
<ol class="arabic simple">
<li><p>它可以生成一些文件（例如 <em>timefile</em> ），这些文件是 <em>mainscript</em> 制作动画时所需的；</p></li>
<li><p>它可以生成一个静态背景图，该图应作为所有帧的背景。
此时脚本必须确保其使用与 <em>mainscript</em> 相同的绘图原点（即 <a class="reference internal" href="#x"><span><strong>-X</strong></span></a></strong> 和 <a class="reference internal" href="#y"><span><strong>-Y</strong></span></a></strong>），
以便图层能够正确堆叠（除非用户确实希望有不同的偏移量）。</p></li>
</ol>
<p>另外，<em>background</em> 可以是与画布尺寸完全匹配的 <em>PostScript</em> 或 <em>EPS</em> 图。</p>
</dd>
</dl>
<dl class="simple" id="sf">
<dt><strong>-Sf</strong><em>foreground</em></dt><dd><p>指定一个 GMT 现代模式脚本 <em>foreground</em> （使用与 <em>mainscript</em> 相同的脚本语言编写），
用来制作静态前景图，该前景图会覆盖在所有帧上。
确保其使用与 <em>mainscript</em> 相同的绘图原点（即 <a class="reference internal" href="#x"><span><strong>-X</strong></span></a></strong> 和 <a class="reference internal" href="#y"><span><strong>-Y</strong></span></a></strong>），以便图层能够正确堆叠。
另外，<em>foreground</em> 可以是与画布尺寸完全匹配的 <em>PostScript</em> 或 <em>EPS</em> 图。</p>
</dd>
</dl>
<dl class="simple" id="v">
<dt><strong>-V</strong>[<em>level</em>] <a class="reference internal" href="../../option/V/"><span class="doc">(more …)</span></a></dt><dd><p>设置 verbose 等级 [<strong>w</strong>]</p>
</dd>
</dl>
<dl class="simple" id="w">
<dt><strong>-W</strong>[<em>dir</em>]</dt><dd><p>默认情况下，所有临时文件和帧的 PNG 文件都会在通过参数 <a class="reference internal" href="#n"><span><strong>-N</strong></span></a></strong> 设置的子目录 <em>prefix</em> 中创建。
用户可以通过提供另一个目录 <em>dir</em> （相对路径或完整路径）来覆盖此选择。
如果未给出 <em>dir</em> ，则会在系统临时文件夹中创建一个名为 <em>prefix</em> 的工作目录。
工作目录的主要优点是避免像 Dropbox 或 TimeMachine 这样的代理程序产生的无休止的同步问题，
或者避免由于主目录空间不足而产生的相关问题。</p>
</dd>
</dl>
<dl class="simple" id="z">
<dt><strong>-Z</strong>[<strong>s</strong>]</dt><dd><p>在合成动画后，将整个 <em>prefix</em> 目录删除 [默认情况下会保留包含所有图片的目录、
临时脚本文件、参数文件和图层 <em>PostScript</em> 文件都会被删除（例外情况见 <a class="reference internal" href="#q"><span><strong>-Q</strong></span></a></strong> ）] 。
如果用户希望同时删除 <em>mainscript</em> 以及通过 <a class="reference internal" href="#e"><span><strong>-E</strong></span></a></strong> 、 <a class="reference internal" href="#i"><span><strong>-I</strong></span></a></strong> 和 <a class="reference internal" href="#s"><span><strong>-S</strong></span></a></strong> 选项
传入的所有输入脚本，则添加 <strong>s</strong> 。</p>
</dd>
</dl>
<dl class="simple">
<dt><strong>-f</strong>[<strong>i</strong>|<strong>o</strong>]<em>colinfo</em> <a class="reference internal" href="../../option/f/"><span class="doc">(more …)</span></a></dt><dd><p>指定输入或输出列的数据类型</p>
</dd>
</dl>
<dl class="simple">
<dt><strong>-x</strong>[[-]<em>n</em>] <a class="reference internal" href="../../option/x/"><span class="doc">(more …)</span></a></dt><dd><p>限制多核算法中能使用的核数（需要GMT开启OpenMP支持）</p>
</dd>
</dl>
<blockquote>
<div><p><strong>movie</strong> 模块是例外，其并行不需要 OpenMP。
<strong>注：</strong> 一个核被 <strong>movie</strong> 使用，所以实际上 n-1 个核被用于帧生成。</p>
</div></blockquote>
<dl class="simple">
<dt><strong>-^</strong> 或 <strong>-</strong></dt><dd><p>显示简短的帮助信息，包括模块简介和基本语法信息（Windows下只能使用 <strong>-</strong>）</p>
</dd>
<dt><strong>-+</strong> 或 <strong>+</strong></dt><dd><p>显示帮助信息，包括模块简介、基本语法以及模块特有选项的说明</p>
</dd>
<dt><strong>-?</strong> 或无参数</dt><dd><p>显示完整的帮助信息，包括模块简介、基本语法以及所有选项的说明</p>
</dd>
<dt><strong>--PAR</strong>=<em>value</em></dt><dd><p>临时修改GMT参数的值，可重复多次使用。参数列表见 <a class="reference internal" href="../../conf/"><span class="doc">配置参数</span></a></p>
</dd>
</dl>
</section>
<section id="id5">
<h2>生成一维数组<a class="headerlink" href="#id5" title="Link to this heading"></a></h2>
<p>下面将展示如何使用 <a class="reference internal" href="../gmtmath/"><span class="doc">gmtmath</span></a> 生成一维数组（其中大部分操作也可通过
linux 中的 seq 命令方便地实现）</p>
<p><strong>不使用任何子选项</strong></p>
<p>以 0.1 为步长，生成 3.1 到 4.2 等等间隔序列</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt<span class="w"> </span>math<span class="w"> </span>-o0<span class="w"> </span>-T3.1/4.2/0.1<span class="w"> </span><span class="nv">T</span><span class="w"> </span><span class="o">=</span>
<span class="m">3</span>.1
<span class="m">3</span>.2
...
<span class="m">4</span>.2
</pre></div>
</div>
<p><strong>+a 选项</strong></p>
<p>该选项不对生成的数列进行运算操作，而是将该数列以列的形式追加到输出表数据，类似
linux 中的 paste 命令。</p>
<p><strong>+b 选项</strong></p>
<p>以 3 和 20 分别为起点和终点，创建一个 2 的整数幂的列表，将生成
的整数幂以 1 为步长取值 <strong>-T</strong>3/20/1<strong>+b</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt<span class="w"> </span>math<span class="w"> </span>-o0<span class="w"> </span>-T3/20/1+b<span class="w"> </span><span class="nv">T</span><span class="w"> </span><span class="o">=</span>
<span class="m">4</span>
<span class="m">8</span>
<span class="m">16</span>
</pre></div>
</div>
<p><strong>+l 选项</strong></p>
<p>以 7 和 135 分别为起点和终点，先创建一个 10 的整数幂的列表，当
<em>inc</em> 为 1 时，输出该列表；当 <em>inc</em> 为 2 时，同时输出该列表中每个元素的
1，2，5 倍值（不包括超出原始数据范围的部分）； 当 <em>inc</em> 为 3 时，同时输出
该列表中每个元素的 1，2，…，9 倍值（同样不包括超出原始数据范围的部分）。
<strong>-T</strong>7/135/2<strong>+l</strong> 将会生成如下数列</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt<span class="w"> </span>math<span class="w"> </span>-o0<span class="w"> </span>-T7/135/2+l<span class="w"> </span><span class="nv">T</span><span class="w"> </span><span class="o">=</span>
<span class="m">10</span>
<span class="m">20</span>
<span class="m">50</span>
<span class="m">100</span>
</pre></div>
</div>
<p><em>inc</em> 为负整数时，将实现如下效果</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt<span class="w"> </span>math<span class="w"> </span>-o0<span class="w"> </span>-T1e-4/1e4/-2+l<span class="w"> </span><span class="nv">T</span><span class="w"> </span><span class="o">=</span>
<span class="m">0</span>.0001
<span class="m">0</span>.01
<span class="m">1</span>
<span class="m">100</span>
<span class="m">10000</span>
</pre></div>
</div>
<p><strong>+i 选项</strong></p>
<p>该选项将以 1 作为默认步长，第三个数字做为每步长中的数字个数
<em>length</em>。假设需要在 1 分钟内每 24 秒生成一帧</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt<span class="w"> </span>math<span class="w"> </span>-o0<span class="w"> </span>-T0/60/24+i<span class="w"> </span><span class="nv">T</span><span class="w"> </span><span class="o">=</span>
<span class="m">0</span>
<span class="m">0</span>.0416666666667
<span class="m">0</span>.0833333333333
<span class="m">0</span>.125
<span class="m">0</span>.166666666667
...
<span class="m">60</span>
</pre></div>
</div>
<p><strong>+n 选项</strong></p>
<p>生成固定长度的数列。以 3.44 和 7.82 为
起点和终点，生成长度为 5 的等间隔序列</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt<span class="w"> </span>math<span class="w"> </span>-o0<span class="w"> </span>-T3.44/7.82/5+n<span class="w"> </span><span class="nv">T</span><span class="w"> </span><span class="o">=</span>
<span class="m">3</span>.44
<span class="m">4</span>.535
<span class="m">5</span>.63
<span class="m">6</span>.725
<span class="m">7</span>.82
</pre></div>
</div>
<p><strong>-T 后直接加文件或逗号分隔的数列</strong></p>
<p><strong>-T</strong> 后可以直接加文件，文件中即为要生成的列表；另外，可以直接使用逗号分隔，
将列表附加到 <strong>-T</strong> 选项后，如下为 Fibonacci 数列前 6 项</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt<span class="w"> </span>math<span class="w"> </span>-o0<span class="w"> </span>-T0,1,1,2,3,5<span class="w"> </span><span class="nv">T</span><span class="w"> </span><span class="o">=</span>
<span class="m">0</span>
<span class="m">1</span>
<span class="m">1</span>
<span class="m">2</span>
<span class="m">3</span>
<span class="m">5</span>
</pre></div>
</div>
<p><em>注</em> ： 如果数列只包含一个值，必须在其后加逗号以表明仍是一个数列</p>
<p><strong>+u 选项</strong></p>
<p>如果文件或者逗号分隔的数列中有重复数字或未排序，可以使用 <strong>+u</strong>
选项去重并排序。</p>
<p><strong>+t 选项</strong></p>
<p>生成绝对时间序列。在 <em>inc</em> 后分别添加 <strong>y</strong> ，<strong>o</strong> ，<strong>d</strong> ，<strong>h</strong> ， <strong>m</strong>
和 <strong>s</strong> 表示时间步长的单位为年，月，日，时，分，秒。在其后附加 <strong>+t</strong> 选项，
可以进一步强调生成时间序列，也可以不加</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt<span class="w"> </span>math<span class="w"> </span>-o0<span class="w"> </span>-T2020-03-01T/2020-03-07T/1d<span class="w"> </span><span class="nv">T</span><span class="w"> </span><span class="o">=</span>
<span class="m">2020</span>-03-01T00:00:00
<span class="m">2020</span>-03-02T00:00:00
<span class="m">2020</span>-03-03T00:00:00
<span class="m">2020</span>-03-04T00:00:00
<span class="m">2020</span>-03-05T00:00:00
<span class="m">2020</span>-03-06T00:00:00
<span class="m">2020</span>-03-07T00:00:00
</pre></div>
</div>
<p><strong>生成距离序列</strong></p>
<p>如果输入文件中包含两列以上的数据，可以使用前两列计算距离，并生成等距序列。
在 <em>inc</em> 后分别添加 <strong>d</strong>，<strong>m</strong>，<strong>s</strong>，<strong>e</strong>，<strong>f</strong>，<strong>M</strong>，<strong>n</strong> 和 <strong>u</strong>
表示距离步长的单位为度，分，秒，米，英尺，公里，英里，海里，英尺。如果
为笛卡尔坐标，使用 c 作为距离步长单位。</p>
<p><strong>+e 选项</strong></p>
<p>如果只给定 <em>inc</em> 而从数据中获取最大值和最小值，则 (<em>max</em> - <em>min</em>)/<em>inc</em> 可能
不是整数，GMT 讲会自动对 <em>inc</em> 进行一定的调整。如果不想调整 <em>inc</em> ，则可以
使用 <strong>+e</strong> 选项，GMT 会固定最小值，适当调整最大值。</p>
</section>
<section id="id6">
<h2>参数<a class="headerlink" href="#id6" title="Link to this heading"></a></h2>
<p>以下参数是自动分配的，可以在编写 <em>mainscript</em> 和可选的 <em>background</em> 和 <em>foreground</em>
脚本时使用。有两组参数：一组是常量，另一组随帧号变化。</p>
<p><strong>所有脚本都可以访问这些常量：</strong></p>
<ul class="simple">
<li><p><strong>MOVIE_WIDTH</strong> - 画布宽度</p></li>
<li><p><strong>MOVIE_HEIGHT</strong> - 画布高度</p></li>
<li><p><strong>MOVIE_DPU</strong> - 当前 <em>dpu</em> （每单位大小内的像素点数）</p></li>
<li><p><strong>MOVIE_RATE</strong> - 当前帧率（每秒展示多少帧）</p></li>
<li><p><strong>MOVIE_NFRAMES</strong> - 总帧数</p></li>
</ul>
<p>此外，如果使用了 <a class="reference internal" href="#i"><span><strong>-I</strong></span></a></strong> ，那么其内列出的任何静态参数也将对所有脚本可用。</p>
<p><strong>mainscript 还可访问随帧号变化的参数：</strong></p>
<ul class="simple">
<li><p><strong>MOVIE_FRAME</strong> - 当前帧号（整数， e.g., 136）</p></li>
<li><p><strong>MOVIE_ITEM</strong> - 格式化的帧号 （字符串, e.g., 000136）</p></li>
<li><p><strong>MOVIE_NAME</strong> - 当前帧的名称 （即 <em>prefix</em>_<strong>MOVIE_ITEM</strong>）</p></li>
<li><p>此外，如果提供了 <em>timefile</em> 文件，还可访问：</p>
<ul>
<li><p><strong>MOVIE_COL0</strong> , <strong>MOVIE_COL1</strong> , …  - <em>timefile</em> 文件中每行的各列值</p></li>
<li><p><strong>MOVIE_TEXT</strong> - <em>timefile</em> 文件中每行的尾部文本</p></li>
<li><p><strong>MOVIE_WORD0</strong> , <strong>MOVIE_WORD1</strong> , … -
当使用 <strong>-T+w</strong> 对尾部文本进行分割或在 <a class="reference internal" href="#l"><span><strong>-L</strong></span></a></strong> 或 <a class="reference internal" href="#p"><span><strong>-P</strong></span></a></strong> 中隐式地做了分割后，
可使用该参数访问每个词。</p></li>
</ul>
</li>
</ul>
</section>
<section id="id7">
<h2>数据文件<a class="headerlink" href="#id7" title="Link to this heading"></a></h2>
<p>在执行 <strong>movie</strong> 时，movie 脚本能够找到起始目录中现有的任何文件，
以及由 <em>mainscript</em> 生成的任何新文件，或者通过 <a class="reference internal" href="#s"><span><strong>-S</strong></span></a></strong> 参数设置的任何附加脚本所生成的文件。
无需指定路径即可访问这些文件。
其他文件可能需要完整的路径，除非其所在的目录已在 <a class="reference internal" href="../../conf/dir/#term-DIR_DATA"><span class="xref std std-term">DIR_DATA</span></a> 设置中包含。</p>
</section>
<section id="gmt-conf">
<h2>自定义 gmt.conf 文件<a class="headerlink" href="#gmt-conf" title="Link to this heading"></a></h2>
<p>在执行 <strong>movie</strong> 前，如果在主脚本 <em>mainscript</em> 所在目录下有 gmt.conf 文件，
那么它将在所有创建和执行的脚本中被共享使用，除非用户的脚本在启动新的现代模式会话时使用了
<strong>-C</strong> 选项。更改 GMT 默认设置的首选方式是在输入脚本中使用 <a class="reference internal" href="../gmtset/"><span class="doc">gmtset</span></a> 命令。
<strong>注：</strong> 每个脚本都是在独立的现代模式下运行的，
因此试图通过在运行时创建一个 gmt.conf 文件以供其他脚本使用是徒劳的。</p>
</section>
<section id="id8">
<h2>绘制时间变化<a class="headerlink" href="#id8" title="Link to this heading"></a></h2>
<p>如果动画没有任何变化，那就没意思了。要让动画动起来，用户需要确保主脚本 <em>mainscript</em>
能够随着帧号变化而访问不同的数据集，或者只需绘制数据集中的一个变化的子集，
从而只在每一帧中显示应该显示的部分。用户可以采用多种策略来实现这些效果：</p>
<ol class="arabic simple">
<li><p>用户传递给 <a class="reference internal" href="#t"><span><strong>-T</strong></span></a></strong> 的 <em>timefile</em> 可能包含特定数据文件的名称，
用户只需在主脚本中使用相应的 <strong>MOVIE_TEXT</strong> 或 <strong>MOVIE_WORD</strong> 来访问特定帧的文件名即可。</p></li>
<li><p>用户有一个数据表格 <em>timefile</em> ，其中包含了每条记录的绝对时间。
用户希望随着时间的推移来展示这些记录，但不显示未来发生的记录。
此效果可通过设置 <a class="reference internal" href="../../option/q/"><span class="doc">-q 选项</span></a> 来选择输入行，
或使用 <a class="reference internal" href="../events/"><span class="doc">events</span></a> 模块来实现。</p></li>
<li><p>用户有一个三维网格（或者是一系列二维网格的堆叠）并且想要沿着垂直轴进行插值
（例如深度轴）。在这种情况下，用户将使用 <a class="reference internal" href="../grdinterpolate/"><span class="doc">grdinterpolate</span></a> 模块，
让主脚本获取对应于正确动画时刻的切片（这可能是两个不同深度之间的插值），
并使用这个临时网格文件来制作帧图。</p></li>
<li><p>用户可能正在使用 <a class="reference internal" href="../gmtmath/"><span class="doc">gmtmath</span></a> 或 <a class="reference internal" href="../grdmath/"><span class="doc">grdmath</span></a> 动态地创建数据，并显示这些数据；
或者可能每帧稍微不同地处理数据（使用 <em>timefile</em> 中的参数），并展示不同处理的帧之间的变化。</p></li>
</ol>
</section>
<section id="id9">
<h2>画布<a class="headerlink" href="#id9" title="Link to this heading"></a></h2>
<p><a class="reference download internal" download="" href="../../_downloads/42f676a53c5fe5b4bad26b1c6e273d7a/00baa5d8320cc8bfc9f1481c93d573b6.sh"><code class="xref download docutils literal notranslate"><span class="pre">Source</span> <span class="pre">Code</span></code></a></p>
<figure class="align-center" id="gmtplot-00baa5d8320cc8bfc9f1481c93d573b6">
<a class="reference internal image-reference" href="../../_images/00baa5d8320cc8bfc9f1481c93d573b6.png"><img alt="../../_images/00baa5d8320cc8bfc9f1481c93d573b6.png" src="../../_images/00baa5d8320cc8bfc9f1481c93d573b6.png" style="width: 600px;" />
</a>
<figcaption>
<p><span class="caption-text"><strong>MOVIE_WIDTH</strong> 和 <strong>MOVIE_HEIGHT</strong> 代表了画布尺寸，用户可使用 <a class="reference internal" href="#x"><span><strong>-X</strong></span></a></strong> 和 <a class="reference internal" href="#y"><span><strong>-Y</strong></span></a></strong> 来设置绘图原点 [72p, 72p] 并使用投影参数 <a class="reference internal" href="#j"><span><strong>-J</strong></span></a></strong> 来指示选择用于绘图的区域（图中绿色区域）。</span><a class="headerlink" href="#gmtplot-00baa5d8320cc8bfc9f1481c93d573b6" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>如 <a class="reference internal" href="#c"><span><strong>-C</strong></span></a></strong> 所述，除非用户指定了自定义布局，否则用户获得的画布尺寸要么是 24 x 13.5 厘米
（16:9），要么是 24 x 18 厘米（4:3）。如果用户的 <a class="reference internal" href="../../conf/proj/#term-PROJ_LENGTH_UNIT"><span class="xref std std-term">PROJ_LENGTH_UNIT</span></a> 设置为英寸，
那么画布尺寸（9.6 x 5.4 英寸或 9.6 x 7.2 英寸）仅比相应的国际单位制尺寸略大（1.6%）；
这不会对动画尺寸产生影响，但允许用户使用与所选 <em>dpu</em> 相配合的合适尺寸。
用户应使用给定的画布尺寸来绘制图层，而 <strong>movie</strong> 会做适当转换将画布转换为图像像素尺寸。
用户有责任使用 <a class="reference internal" href="#x"><span><strong>-X</strong></span></a></strong> 和 <a class="reference internal" href="#y"><span><strong>-Y</strong></span></a></strong> 来留出合适的边距以及在画布上对各绘图元素进行任何定位。
为了减少处理时间，建议将动画的任何静态部分视为静态背景
（由 <em>background</em> 脚本一次性生成；见 <a class="reference internal" href="#sb"><span><strong>-Sb</strong></span></a></strong>）和/或静态前景（由 <em>foreground</em> 一次性生成；见 <a class="reference internal" href="#sf"><span><strong>-Sf</strong></span></a></strong>）；然后 <strong>movie</strong> 会按帧组装这些层。
此外，任何在帧循环中使用的静态数据文件的计算都可以由 <em>background</em> 脚本完成。
任何依赖帧号的数据或变量都必须通过主脚本计算或设置，或者按照上述方式通过参数提供。
<strong>注：</strong> 使用变量 <strong>MOVIE_WIDTH</strong> 或 <strong>MOVIE_HEIGHT</strong>
来设定绘图尺寸可能会导致图形被裁剪到画布之外，因为这些值正是画布的实际尺寸。</p>
</section>
<section id="postscript">
<h2>外部 <em>PostScript</em> 图层<a class="headerlink" href="#postscript" title="Link to this heading"></a></h2>
<p>除了将 GMT 现代脚本传递给 <a class="reference internal" href="#s"><span><strong>-S</strong></span></a></strong> 外，用户还可以提供 <em>PostScript</em> 图层文件的名称。
注意，这些图层必须与画布尺寸完全匹配。举个简单的例子，
如果用户正在制作一个使用 US 单位尺寸的 HD 电影，那么一个背景粉色图层将由以下方式创建:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt<span class="w"> </span>basemap<span class="w"> </span>-R0/9.6/0/5.4<span class="w"> </span>-Jx1i<span class="w"> </span>-B+gpink<span class="w"> </span>-X0<span class="w"> </span>-Y0<span class="w"> </span>--PS_MEDIA<span class="o">=</span><span class="m">9</span>.6ix5.4i<span class="w"> </span>-ps<span class="w"> </span>background
</pre></div>
</div>
<p>其中注意通过 <a class="reference internal" href="../../conf/ps/#term-PS_MEDIA"><span class="xref std std-term">PS_MEDIA</span></a> 进行的画布选择、匹配的区域和投影以及绘图原点在 (0,0)。</p>
</section>
<section id="id10">
<h2>底图边框<a class="headerlink" href="#id10" title="Link to this heading"></a></h2>
<p>某些地图投影默认会绘制出一个 <em>fancy</em> 地图边框；此功能受 <a class="reference internal" href="../../conf/map/#term-MAP_FRAME_TYPE"><span class="xref std std-term">MAP_FRAME_TYPE</span></a> 控制。
然而，实际绘制的是 <em>fancy</em> 边框还是 <em>plain</em> 框架还取决于投影中心纬度。
因此，如果用户的影片通过改变视角来改变投影中心纬度，那么用户在设置时应将边框类型设为 <em>plain</em> 。</p>
</section>
<section id="id11">
<h2>透明图片<a class="headerlink" href="#id11" title="Link to this heading"></a></h2>
<p>默认情况下， <strong>movie</strong> 会生成不透明的 PNG 图片，这些图片随后可以组合成动画。
大多数动画很可能会以这种方式制作。
使用 <a class="reference internal" href="#f"><span><strong>-F</strong></span></a></strong> 选项的实验性选项 <strong>+t</strong> 可以生成透明的 PNG 图像。
目前，很少有视频编解码器支持透明度。据称 H.265（HECV）和 VP9（Webm）都具备这一功能；
GMT 团队只能通过在 Chrome 中观看透明的 Webm 文件来验证后者。
GIF 也可以由透明的 PNG 图像构建而成，这里每个额外的帧都会累积到最终的动画中。
专家可能会创建透明的 PNG 图像，并使用支持透明通道的专业工具来制作动画。</p>
</section>
<section id="id12">
<h2>添加音轨<a class="headerlink" href="#id12" title="Link to this heading"></a></h2>
<p>使用 <a class="reference internal" href="#a"><span><strong>-A</strong></span></a></strong>[<strong>+e</strong>] 选项，用户可以添加音频轨道，比如为动画配音、添加音乐，或者添加任何内容。
最终的动画长度将与音频或动画中最长的部分长度相匹配，
所以用户可能需要对音频文件进行处理以适应动画。
由于动画的长度已知为 <em>帧数/帧率</em>，因此用户可以对音频轨道进行预处理以使其具有匹配的长度。
或者，如果音频轨道的长度与动画长度大致相同（动画长度的 ±50% 范围内），
则可以添加 <strong>+e</strong> 选项将音频轨道缩放至与动画完全相同的长度。</p>
</section>
<section id="id13">
<h2>技术细节<a class="headerlink" href="#id13" title="Link to this heading"></a></h2>
<p><strong>movie</strong> 模块会创建若干隐藏的脚本文件，这些文件用于图像的生成
（由于文件扩展名取决于所使用的脚本语言，此处未列出扩展名）：</p>
<ul class="simple">
<li><p><em>movie_init</em> （初始化与画布大小和每单位点数相关的变量，并包含可选 <em>includefile</em> 的内容）</p></li>
<li><p><em>movie_preflight</em> （可选，因为它源自 <a class="reference internal" href="#sb"><span><strong>-Sb</strong></span></a></strong> 并计算所需的数据文件以及可能的背景层）</p></li>
<li><p><em>movie_postflight</em> （可选，因为它源自 <a class="reference internal" href="#sf"><span><strong>-Sf</strong></span></a></strong> 并构建前景层）</p></li>
<li><p><em>movie_frame</em> （接受帧计数参数并构建帧图像）</p></li>
<li><p><em>movie_cleanup</em> （在运行结束时删除临时文件）</p></li>
</ul>
<p>对于每个帧，都有一个单独的名为 <em>movie_params_######</em>
脚本提供了特定帧的变量（例如，帧号以及通过 <a class="reference internal" href="#t"><span><strong>-T</strong></span></a></strong> 给出的任何内容）。
<em>preflight</em> 和 <em>postflight</em> 脚本可以访问 <em>movie_init</em> 中的信息，
而 <em>frame</em> 脚本在此基础上还能访问这个帧参数文件。
使用 <a class="reference internal" href="#q"><span><strong>-Q</strong></span></a></strong> 选项会生成这些脚本，然后用户可以对其进行查看。
<strong>注：</strong> 主脚本会按帧复制，并且每个副本都会同时在所有可用内核上运行。
因此，多线程的 GMT 模块也将只能使用单个核心。</p>
<p>将 PNG 图帧转换为动画 GIF（使用选项 <a class="reference internal" href="#f"><span><strong>-F</strong></span></a></strong><em>gif</em> ）需要使用
<a class="reference external" href="http://www.graphicsmagick.org/">GraphicsMagick</a> 工具。
因此，<strong>gm</strong> 必须能通过标准搜索路径访问到。
同样，将 PNG 图帧转换为 MP4（使用选项 <a class="reference internal" href="#f"><span><strong>-F</strong></span></a></strong><em>mp4</em> ）或 WebM（使用选项 <a class="reference internal" href="#f"><span><strong>-F</strong></span></a></strong><em>webm</em> ）
的视频文件也依赖于 <a class="reference external" href="https://www.ffmpeg.org/">FFmpeg</a> 。</p>
</section>
<section id="shell">
<h2>Shell 局限性<a class="headerlink" href="#shell" title="Link to this heading"></a></h2>
<p>由于无法控制 shell（例如 bash 或 csh）在两个进程之间实现管道操作的方式（这通常涉及 sub-shell），
因此 GMT 建议不要在主脚本中使用涉及将一个 GMT 模块的结果传递到另一个模块的命令
（例如，gmt blockmean ….. | gmt surface …）。
因为 <strong>movie</strong> 会同时运行主脚本的多个副本，当涉及 sub-shell 时可能会出现奇怪的情况。
根据经验，在 movie 脚本中使用管道可能会损坏 GMT 历史文件，
导致某些帧出现诸如区域未设置之类的错误消息。
在编写 movie 主脚本时，可以使用临时文件将这样的管道结构拆分为两个部分。
<strong>注：</strong> 从非 GMT 模块到 GMT 模块或与之相反的管道操作是没问题的
（例如，echo ….. | gmt plot …）。</p>
</section>
<section id="id14">
<h2>制作动画的提示<a class="headerlink" href="#id14" title="Link to this heading"></a></h2>
<p>制作动画相对简单，但用户需要从变量的角度去思考问题。
仔细研究以下所描述的示例。然后，先制作一个单一的绘图脚本（即主脚本），
并确定哪些内容会随时间变化（即随着帧号的变化）。为这些值创建变量。
如果它们属于 <strong>movie</strong> 创建的参数，则使用这些名称。
除非只需要帧号，否则用户还需要创建一个可以传递给 <a class="reference internal" href="#t"><span><strong>-T</strong></span></a></strong> 的文件。
这个文件应包含用户所需的所有数值，这些数值会按帧（即行）排列，
且涵盖了用户所需的所有列中的数值。
如果用户需要分配一些不随时间变化的固定变量，则将这些赋值任务转移到单独的
<em>includefile</em> （<a class="reference internal" href="#i"><span><strong>-I</strong></span></a></strong>）文件中会使得主脚本看起来更简洁、更清晰。
要测试输出动画，可首先使用选项 <a class="reference internal" href="#q"><span><strong>-Q</strong></span></a></strong> 和 <a class="reference internal" href="#m"><span><strong>-M</strong></span></a></strong> 以确保主帧页面看起来正确。
这个页面会显示动图的一个帧（可以通过 <a class="reference internal" href="#m"><span><strong>-M</strong></span></a></strong> 参数选择要显示的帧）。
修复在使用变量和选项时出现的任何问题，直到一切正常为止。然后用户可以尝试删除 <a class="reference internal" href="#q"><span><strong>-Q</strong></span></a></strong>。
GMT 建议用户制作一个非常简短（<a class="reference internal" href="#t"><span><strong>-T</strong></span></a></strong>）且尺寸较小（<a class="reference internal" href="#c"><span><strong>-C</strong></span></a></strong>）的影片，这样就能很快看到结果。
一旦一切正常运行，用户就可以增加帧数和提高影片质量了。</p>
</section>
<section id="id15">
<h2>颜色表的使用<a class="headerlink" href="#id15" title="Link to this heading"></a></h2>
<p>因为 <strong>movie</strong> 将不同帧的绘制作为单独的会话并行运行，所以用户无法使用当前的 CPT
（即由 <a class="reference internal" href="../makecpt/"><span class="doc">makecpt</span></a> 或 <a class="reference internal" href="../grd2cpt/"><span class="doc">grd2cpt</span></a> 直接创建的最后一个 CPT，
或者通过 <a class="reference internal" href="../grdimage/"><span class="doc">grdimage</span></a> 或 <a class="reference internal" href="../grdview/"><span class="doc">grdview</span></a> 间接创建的）。
因此，用户必须使用明确的文件来创建 CPT，并将这些文件名传递给需要 CPT 信息的模块。
在现代模式下，这意味着用户需要在 <a class="reference internal" href="../makecpt/"><span class="doc">makecpt</span></a> 或 <a class="reference internal" href="../grd2cpt/"><span class="doc">grd2cpt</span></a> 中使用 <strong>-H</strong> 选项，
以便将它们的输出重定向到指定的文件中。</p>
</section>
<section id="id16">
<h2>进度指示器<a class="headerlink" href="#id16" title="Link to this heading"></a></h2>
<figure class="align-center" id="id28">
<a class="reference internal image-reference" href="https://docs.generic-mapping-tools.org/latest/_images/GMT_movie_progress.png"><img alt="https://docs.generic-mapping-tools.org/latest/_images/GMT_movie_progress.png" src="https://docs.generic-mapping-tools.org/latest/_images/GMT_movie_progress.png" style="width: 500px;" />
</a>
<figcaption>
<p><span class="caption-text">六种进度指示器。它们都有默认的大小、位置、颜色和笔（如图所示），但这些都可以被相应的子选项覆盖（见下文）。</span><a class="headerlink" href="#id28" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>使用字母 <strong>a-f</strong> 选择上述六个进度指示器中的一个；每个都有默认的属性，可以通过子选项来改变：</p>
<ul class="simple">
<li><p><strong>a</strong> - 需要指定静止项填充色 (<strong>+G</strong>) [lightgreen] 和活动项填充色 (<strong>+g</strong>) [lightred] ，
没有标注选项。</p></li>
<li><p><strong>b</strong> - 可指定静止项画笔 (<strong>+P</strong>) [lightblue] 和活动项画笔 (<strong>+p</strong>) [blue] ，
如果使用了 <strong>+a</strong> ，则在中心添加一个标注，大小为指示器大小的 30%
（除非使用了 <strong>+f</strong> 自定义字体大小）。</p></li>
<li><p><strong>c</strong> - 可指定静止项画笔 (<strong>+P</strong>) [dashed darkred，宽度为指示器大小的 1%]
和弧形矢量的活动项画笔 (<strong>+p</strong>) [red，宽度为指示器大小的 5%] ，
其箭头大小为指示器大小的 20% 。如果使用了 <strong>+a</strong> ，则在中心添加一个标注，
大小为指示器大小的 30% （除非使用了 <strong>+f</strong> 自定义字体大小）。</p></li>
<li><p><strong>d</strong> - 可指定静止项画笔 (<strong>+P</strong>) [black] 和活动项画笔 (<strong>+p</strong>)
[yellow，宽度为指示器大小的 0.5%] ，如果使用了 <strong>+a</strong> ，则标注字体大小为静态画笔宽度的两倍
（除非使用了 <strong>+f</strong> 自定义字体大小）。</p></li>
<li><p><strong>e</strong> - 可指定静止项画笔 (<strong>+P</strong>) [red] 和活动项画笔 (<strong>+p</strong>) [lightgreen] ，
如果使用了 <strong>+a</strong> ，则标注字体大小为静止画笔宽度的两倍（除非使用了 <strong>+f</strong> 自定义字体大小）。</p></li>
<li><p><strong>f</strong> - 可指定静止轴的画笔 (<strong>+P</strong>) [black] 和滑动三角的填充色 (<strong>+g</strong>) [red] ，
三角大小为轴宽的两倍，字体大小为轴宽的三倍。</p></li>
</ul>
<p>关于 <strong>d-f</strong> 指示器：如果使用百分比标注 (<strong>+ap</strong>)，则轴上显示标注，否则无标注。
这些指示器对所有 <em>justify</em> 代码均保持水平，除了 <strong>ML</strong> 和 <strong>MR</strong> 。
对于静止线条，其默认线宽为指示器大小的 2.5% 和 8p 的二者较小值
（指示器 <strong>f</strong> 为 1.5% 和 3p）。</p>
<p>如果不指定指示器大小 (<strong>+w</strong>)，对于圆形指示器，默认大小为画布最大边长的 5% ；
对于轴状指示器，默认长度为 <strong>+j</strong> 指定画布边的边长的 60% 。</p>
</section>
<section id="id17">
<h2>片头和淡入淡出<a class="headerlink" href="#id17" title="Link to this heading"></a></h2>
<figure class="align-center" id="id29">
<a class="reference internal image-reference" href="https://docs.generic-mapping-tools.org/latest/_images/GMT_title_fade.png"><img alt="https://docs.generic-mapping-tools.org/latest/_images/GMT_title_fade.png" src="https://docs.generic-mapping-tools.org/latest/_images/GMT_title_fade.png" style="width: 500px;" />
</a>
<figcaption>
<p><span class="caption-text">整个动画的淡化水平 (0 为全黑, 100 为全部可见) ，包含一个可选的片头。</span><a class="headerlink" href="#id29" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>整个动画可以有一个可选的片头（<a class="reference internal" href="#e"><span><strong>-E</strong></span></a></strong>），其时长 <em>duration</em> 由用户设定。
在该时长的开头和/或结尾部分，可以指定使用指定的淡化颜色 [black] 进行淡入/淡出处理。
主动画部分也可以有可选的淡入/淡出部分（<a class="reference internal" href="#k"><span><strong>-K</strong></span></a></strong>），
在此选项中，用户可以选择在动画上进行淡入/淡出处理，或者可以将第一个和/或最后一个动画帧冻结，
仅对这些静态图像进行渐隐处理（通过子选项 <strong>+p</strong>）以保留整个动画序列。</p>
</section>
<section id="id18">
<h2>其它电影格式<a class="headerlink" href="#id18" title="Link to this heading"></a></h2>
<p>按照设置，对于电影格式， <strong>movie</strong> 模块仅提供了 MP4 和 WebM 格式。
转换工作由工具 <a class="reference external" href="https://www.ffmpeg.org/">FFmpeg</a> 完成，该工具拥有海量的编码器和处理选项。如果用户希望使用其他选项运行 FFmpeg，请使用两种视频格式之一来运行 <strong>movie</strong>。
最后它会打印出使用的 FFmpeg 命令。
用户可以复制、粘贴并修改此命令以选择其他编码器、比特率和参数。
用户还可以将生成的 PNG 序列作为输入传递给诸如 QuickTime Player、iMovie、MovieMaker
等商业程序或其他工具，从而以这种方式制作电影。</p>
</section>
<section id="png">
<h2>基于已有的 PNG 帧重新制作电影<a class="headerlink" href="#png" title="Link to this heading"></a></h2>
<p>当用户在制作好电影后，决定改变帧率，或者调整电影中所有静止图像的组合方式。
如果用户保留了所有的帧图像，那么不必重新运行整个渲染过程。
假设用户想要一个 MP4 电影，并且只是想要重新运行ffmpeg命令，这里有一个例子:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ffmpeg<span class="w"> </span>-loglevel<span class="w"> </span>warning<span class="w"> </span>-f<span class="w"> </span>image2<span class="w"> </span>-framerate<span class="w"> </span><span class="m">24</span><span class="w"> </span>-y<span class="w"> </span>-i<span class="w"> </span><span class="s2">&quot;mydir/myimages_%04d.png&quot;</span><span class="w"> </span>-vcodec<span class="w"> </span>libx264<span class="w"> </span>-pix_fmt<span class="w"> </span>yuv420p<span class="w"> </span>mymovie.mp4
</pre></div>
</div>
<p>当 <strong>movie</strong> 执行时，也会打印此命令。对于其他电影格式，需要查阅 FFmpeg 文档。
<strong>注：</strong> 在 Windows 上，百分比符号是特殊字符（就像shell下的美元符号），
所以用户需要输入两个（%%）。</p>
</section>
<section id="id20">
<h2>操作多个电影<a class="headerlink" href="#id20" title="Link to this heading"></a></h2>
<p>如果用户正在制作一系列相似的电影，可以使用 FFmpeg 在空间上将它们拼成一部电影。
假设有四个电影片段，分别名为 movie_1.mp4、movie_2.mp4、movie_3.mp4 和 movie_4.mp4，
而用户希望将它们组合成一个 2x2 的面板，以便同时展示这四个影片。首先，需要将片段（1,2）和（3,4）水平拼接在一起，然后将这两个拼接后的片段垂直拼接起来:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ffmpeg<span class="w"> </span>-i<span class="w"> </span>movie_1.mp4<span class="w"> </span>-i<span class="w"> </span>movie_2.mp4<span class="w"> </span>-filter_complex<span class="w"> </span><span class="nv">hstack</span><span class="o">=</span><span class="nv">inputs</span><span class="o">=</span><span class="m">2</span><span class="w"> </span>top.mp4
ffmpeg<span class="w"> </span>-i<span class="w"> </span>movie_3.mp4<span class="w"> </span>-i<span class="w"> </span>movie_4.mp4<span class="w"> </span>-filter_complex<span class="w"> </span><span class="nv">hstack</span><span class="o">=</span><span class="nv">inputs</span><span class="o">=</span><span class="m">2</span><span class="w"> </span>bottom.mp4
ffmpeg<span class="w"> </span>-i<span class="w"> </span>top.mp4<span class="w"> </span>-i<span class="w"> </span>bottom.mp4<span class="w"> </span>-filter_complex<span class="w"> </span><span class="nv">vstack</span><span class="o">=</span><span class="nv">inputs</span><span class="o">=</span><span class="m">2</span><span class="w"> </span>four_movies.mp4
</pre></div>
</div>
<p>有关此类操作的更多信息，请参阅 FFmpeg 文档。</p>
</section>
<section id="macos">
<h2>macOS 问题<a class="headerlink" href="#macos" title="Link to this heading"></a></h2>
<p>在 macOS 系统中，默认情况下限制同时打开文件的数量相对较小。
当同时构建大量帧时，出现 “打开文件过多” 错误而导致影片制作失败的情况并不罕见。
GMT 建议用户参考这篇有用的
<a class="reference external" href="https://superuser.com/questions/433746/is-there-a-fix-for-the-too-many-open-files-in-system-error-on-os-x-10-7-1">文章</a>
以获取各种解决方案。</p>
</section>
<section id="id22">
<h2>示例<a class="headerlink" href="#id22" title="Link to this heading"></a></h2>
<p><strong>注</strong>: 下面是该模块的一些有效语法示例。使用远程文件（文件名以 <code class="docutils literal notranslate"><span class="pre">&#64;</span></code> 开头）的示例可以剪切并粘贴到您的终端中进行测试。其他需要输入文件的命令只是常见的使用类型的虚拟示例，但不能按编写的原样运行。</p>
<p>以下是通过不断改变中心经度以实现制作旋转地球的简单示例，其中自定义一个像素大小为
600x600 的方形区域，帧数为 360 帧，在左上角放置一个帧计数器，在右上角放置一个进度指示器。
该示例不需要自定义输入数据文件，可在本地运行。</p>
<p>首先创建主脚本 <em>globe.sh</em></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt<span class="w"> </span>begin
<span class="w">    </span>gmt<span class="w"> </span>coast<span class="w"> </span>-Rg<span class="w"> </span>-JG<span class="si">${</span><span class="nv">MOVIE_FRAME</span><span class="si">}</span>/20/<span class="si">${</span><span class="nv">MOVIE_WIDTH</span><span class="si">}</span><span class="w"> </span>-Gmaroon<span class="w"> </span>-Sturquoise<span class="w"> </span>-Bg<span class="w"> </span>-X0<span class="w"> </span>-Y0
gmt<span class="w"> </span>end
</pre></div>
</div>
<p>再使用 <strong>movie</strong> 模块生成 GIF 动图:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt<span class="w"> </span>movie<span class="w"> </span>globe.sh<span class="w"> </span>-Nglobe<span class="w"> </span>-T360<span class="w"> </span>-Fgif<span class="w"> </span>-C6ix6ix100<span class="w"> </span>-Lf<span class="w"> </span>-P
</pre></div>
</div>
<p><a class="reference download external" download="" href="https://dengda98.github.io/zh/posts/tech/gmt_movie/movie_ex02.sh"><code class="xref download docutils literal notranslate"><span class="pre">Source</span> <span class="pre">Code</span></code></a></p>
<figure class="align-center">
<a class="reference internal image-reference" href="https://dengda98.github.io/zh/posts/tech/gmt_movie/globe.gif"><img alt="https://dengda98.github.io/zh/posts/tech/gmt_movie/globe.gif" src="https://dengda98.github.io/zh/posts/tech/gmt_movie/globe.gif" style="width: 500px;" />
</a>
</figure>
<p>在执行过程结束时，用户会发现了 GIF 文件 <em>globel.gif</em> 以及一个目录 <em>glob</em> ，
其中包含了全部 360 张 PNG 图片。请注意， <em>globe.sh</em> 脚本中没有包含任何反映图表名称、
画布大小、栅格化 <em>PostScript</em> 的尺寸等信息的内容。
这些信息对用户是隐藏的；实际执行的 movie 脚本是根据用户提供的脚本生成的，
并提供了额外的机制。 <strong>movie</strong> 模块会自动使用所有可用的核心来管理对所有帧的并行执行循环。</p>
</section>
<section id="id23">
<h2>更多示例<a class="headerlink" href="#id23" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p><a class="extlink-gmt-docs reference external" href="https://docs.generic-mapping-tools.org/6.5/animations.html">GMT 官方动画示例</a></p></li>
<li><p><a class="reference external" href="https://www.youtube.com/channel/UCo1drOh0OZPcB7S8TmIyf8Q">GMT YouTube Channel</a></p></li>
</ul>
</section>
<section id="id24">
<h2>弃用<a class="headerlink" href="#id24" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>6.3.0: Consolidate -A into -F for a more unified option. <a class="reference external" href="https://github.com/GenericMappingTools/gmt/pull/5613">#5613</a></p></li>
</ul>
</section>
<section id="id26">
<h2>参考文献<a class="headerlink" href="#id26" title="Link to this heading"></a></h2>
<p>Wessel, P., Esteban, F., &amp; Delaviel-Anger, G. (2024). The Generic Mapping Tools and Animations for the Masses. Geochemistry, Geophysics, Geosystems, 25(6). <a class="reference external" href="https://doi.org/10.1029/2024GC011545">https://doi.org/10.1029/2024GC011545</a></p>
</section>
<section id="id27">
<h2>相关模块<a class="headerlink" href="#id27" title="Link to this heading"></a></h2>
<p><a class="reference internal" href="../gmtmath/"><span class="doc">gmtmath</span></a>,
<a class="reference internal" href="../grdinterpolate/"><span class="doc">grdinterpolate</span></a>,
<a class="reference internal" href="../grdmath/"><span class="doc">grdmath</span></a>,
<a class="reference internal" href="../events/"><span class="doc">events</span></a></p>
</section>
</section>



           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="页脚">
        <a href="../meca/" class="btn btn-neutral float-left" title="meca" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> 上一页</a>
        <a href="../nearneighbor/" class="btn btn-neutral float-right" title="nearneighbor" accesskey="n" rel="next">下一页 <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; 版权所有 2014–2025, GMT 中文社区。
      <span class="lastupdated">最后更新于 2025 年 07 月 27 日.
      </span></p>
  </div>

  利用 <a href="https://www.sphinx-doc.org/">Sphinx</a> 构建，使用的 
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">sphinx_rtd_theme 主题</a>
    由 <a href="https://readthedocs.org">Read the Docs</a> 开发.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script> 

</body>
</html>