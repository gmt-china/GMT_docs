# 绘制等值线

GMT 中一般使用 {doc}`/module/contour` 或 {doc}`/module/grdcontour` 模块绘制等值线。
本节以 {doc}`/module/grdcontour` 模块为例，通过一些简单的示例讲解如何绘制等值线。

示例数据下载 {download}`geoid.nc` 

## 等距离放置标注

第1个实例绘制等值线并沿等值线每1.5英寸放置一个标注:

```{eval-rst}
.. gmtplot:: contour-anno1.sh

   通过指定 **-Gd** 选项的参数，确定了标注的位置(等值线上相距1.5英寸的点)
```

## 给定标注个数

第2个实例指定每条等值线上标注的个数。每条等值线上只放置1个标注，并且要求等值线的长度不小于1英寸。

```{eval-rst}
.. gmtplot:: contour-anno2.sh

   通过指定 **-Gn** 选项的参数，确定了标注的位置(每条长度超过1英寸的等值线的中心位置)
```

## 给定标注位置

第3个实例给定标注所在位置的坐标。由于坐标不是严格位于等值线上，因此需要在参数中指定标注位置与等值线距离的上限。
模块会根据等值线的几何形状，自动计算标注的角度。

```{eval-rst}
.. gmtplot:: contour-anno3.sh

   通过指定 **-Gf** 选项的参数，确定了标注的位置(等值线上与给定点距离最小的点)
```

## 线段与等值线交点处放置标注

第4个实例通过指定 **-Gl** 或 **-GL** 选项的参数来定义线段，将标注放置在直线段与等值线的交点。

```{eval-rst}
.. gmtplot:: contour-anno4.sh

   通过指定 **-GL** 选项的参数确定了标注的位置(大圆弧与等值线的交点)
```

图中的标注位于数据最值点连线(**Z-/Z+**)与等值线的交点。图中最值点连线为两点之间的大圆弧，在其与等值线交点位置处放置了标注。
同一幅地图中，可以分别指定多条线段。

## 广义的线段与等值线相交算法

如果需要指定的与等值线相交的线段比较多，或线段数据来自其他数据集，可以使用广义的相交算法确定标注的位置。
多段数据文件 *cross.txt* 中定义了三条折线，模块在这三条折线与等值线交点位置处进行标注。

```{eval-rst}
.. gmtplot:: contour-anno5.sh

   通过指定 **-GX** 选项的参数(多段数据文件 *cross.txt* )，确定了标注的位置
```