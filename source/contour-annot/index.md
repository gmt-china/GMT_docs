# 等值线标注和“线条标注”



## 标注属性实例

本节通过实例说明标注属性的作用，
采用 `plot` 绘制了大地水准面极值点之间的大圆弧，
并且沿着该大圆弧从ETOPO5数据集中提取了高程数据。
高程数据文件(transect.txt)中包括
了 *经度、纬度、距离、大地水准面、高程* 数据。

### 按照沿大圆弧距离放置标注-不透明文本框

在本实例中将标注的走向从沿大圆弧改变为跨大圆弧，并指定了不透明的文本框
和轮廓线，增加了标注的可读性。
沿大圆弧每1000km放置一个标注，使用距离值作为标注的内容。
标注的方向与大圆弧垂直：

```{eval-rst}
.. gmtplot:: contour-anno6.sh

   通过指定 **-Sq** 选项的参数控制标注属性.
```

图中显示了上述命令的综合效果。
值得注意的是，大圆弧的起点和终点没有与表示极值点的"-"和"+"符号完全重合。
造成这个现象的原因是，极值点符号"-"和"+"的坐标是等值线的平均值，
而不是全局或局部极值的位置。

### 按照沿大圆弧距离放置标注-反色圆角矩阵

与上一个实例不同的是，
本实例中标注与大圆弧平行，以度指定标注位置，并添加度单位。
文本框的形状为圆角矩形，且标注内容与文本框的底色呈反色显示。

```{eval-rst}
.. gmtplot:: contour-anno7.sh

   另一个标注属性实例
```

### 使用不同数据集定义标注的内容和位置

本实例中采用沿大圆弧的海底地形数据作为标注的内容，
按照沿大圆弧的距离，每1500km放置一个标注。
因此需要使用 **awk** 程序从 *transect.txt* 文件中抽取距离为1500km倍数的记录，
并创建一个新文件，指定标注的位置和内容：

```{eval-rst}
.. gmtplot:: contour-anno8.sh

   标注的位置和内容来自不同的数据集
```

## 综合实例

最后，采用之前章节中论述的多个标注位置确定方法和属性设置，
绘制了一幅比较复杂的综合性图件。
假设在Canary Islands发生了灾难性滑坡，
图件显示了所引发的的海啸的走时(以小时为单位)。
根据海啸走时和海底地形绘制了彩图，
对等值线和线条进行了标注。
完整的脚本如下：

```{eval-rst}
.. gmtplot:: contour-anno9.sh

   Canary Islands到大西洋沿岸的海啸走时图，特别是纽约。当发生灾难性滑坡时，纽约将在8小时后遭遇大海啸。
```
